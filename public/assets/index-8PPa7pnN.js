import{r as n,j as e,c as u,B as I}from"./index-DykfVjGT.js";import{L as i}from"./dropdown-menu-PmNYEJOa.js";import{T as x}from"./theme-switch-Bt7mWrNt.js";import{H as _}from"./header-unrestricted-pages-CfMaw2fG.js";import{C as h}from"./card-aLVeJQDX.js";import{u as j,t as S,F as b,a as A,b as F,c as T,d as g}from"./form-BVF4ne2g.js";import{z as c}from"./index-DXqQCM1T.js";import{I as N}from"./input-Db8824eD.js";import{P as R,a as B}from"./pin-input-By5jUnmf.js";import{S as V}from"./separator-DzSzqnxo.js";import"./index-Bc08GzOQ.js";import"./Combination-COj5YCYj.js";import"./index-BlLRgRJX.js";import"./index-DW6chHyz.js";import"./index-WnXp4O4z.js";import"./top-nav-D2TNBkRj.js";var v={VITE_FIREBASE_API_KEY:"AIzaSyAIKDhzuabGUaO52qtnQokEIpAh-Yt_TSo",VITE_FIREBASE_AUTH_DOMAIN:"zen-resort.firebaseapp.com",VITE_FIREBASE_DATABASE_URL:"https://zen-resort-default-rtdb.asia-southeast1.firebasedatabase.app",VITE_FIREBASE_PROJECT_ID:"zen-resort",VITE_FIREBASE_STORAGE_BUCKET:"zen-resort.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"47411896955",VITE_FIREBASE_APP_ID:"1:47411896955:web:36da7bf642d25bb80138de",VITE_FIREBASE_MEASUREMENT_ID:"G-X1Z3YRMMZ0",VITE_MIXPANEL_KEY:"3f85b37beb6296bd7ecd350f939c543a",VITE_CLOUD_SERVER_URL:"https://edtch.pw/",VITE_ADMIN_CODE:"212121"};const D=c.object({otp:c.string().min(1,{message:"Please enter your code."})});function y({className:t,verify_pin_callback:r,...d}){const[p,m]=n.useState(!1),[f,l]=n.useState(!0),s=j({resolver:S(D),defaultValues:{otp:""}});function E(a){a.otp===v.VITE_ADMIN_CODE?(s.reset(),m(!1),r(!0)):(s.setError("otp",{type:"manual",message:"Invalid code"}),m(!1))}return e.jsx("div",{className:u("grid gap-6",t),...d,children:e.jsx(b,{...s,children:e.jsx("form",{onSubmit:s.handleSubmit(E),children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(A,{control:s.control,name:"otp",render:({field:a})=>e.jsxs(F,{className:"space-y-1",children:[e.jsx(T,{children:e.jsx(R,{...a,className:"flex h-10 justify-between",onComplete:()=>l(!1),onIncomplete:()=>l(!0),children:Array.from({length:7},(P,o)=>o===3?e.jsx(V,{orientation:"vertical"},o):e.jsx(B,{component:N,className:`${s.getFieldState("otp").invalid?"border-red-500":""}`},o))})}),e.jsx(g,{})]})}),e.jsx(I,{className:"mt-2",disabled:f,loading:p,children:"Verify"})]})})})})}function Q(){const[t,r]=n.useState(!1);return e.jsxs(i,{children:[e.jsxs(i.Header,{children:[e.jsx(_,{activeRoute:"/zen-business-admins"}),e.jsx("div",{className:"ml-auto flex items-center space-x-4",children:e.jsx(x,{})})]}),e.jsx(i.Body,{children:t===!1?e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex items-center justify-center",style:{height:"80vh"},children:e.jsx("div",{children:e.jsxs(h,{className:"p-6",children:[e.jsxs("div",{className:"mb-2 flex flex-col space-y-2 text-left",children:[e.jsx("h1",{className:"text-md font-semibold tracking-tight",children:"Zen Business Admin"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Please enter the special code to access this area."})]}),e.jsx(y,{verify_pin_callback:r})]})})})}):e.jsx(e.Fragment,{})})]})}export{Q as default};
