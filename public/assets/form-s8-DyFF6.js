import{n as A,r as Y,j as te,P as Kr,c as he,z as zr,W as Gr}from"./index-CV458mEW.js";var be=e=>e.type==="checkbox",le=e=>e instanceof Date,W=e=>e==null;const _r=e=>typeof e=="object";var R=e=>!W(e)&&!Array.isArray(e)&&_r(e)&&!le(e),vr=e=>R(e)&&e.target?be(e.target)?e.target.checked:e.target.value:e,Yr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,hr=(e,t)=>e.has(Yr(t)),Jr=e=>{const t=e.constructor&&e.constructor.prototype;return R(t)&&t.hasOwnProperty("isPrototypeOf")},Ge=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function L(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Ge&&(e instanceof Blob||e instanceof FileList))&&(r||R(e)))if(t=r?[]:{},!r&&!Jr(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=L(e[s]));else return e;return t}var Fe=e=>Array.isArray(e)?e.filter(Boolean):[],C=e=>e===void 0,c=(e,t,r)=>{if(!t||!R(e))return r;const s=Fe(t.split(/[,[\].]+?/)).reduce((a,n)=>W(a)?a:a[n],e);return C(s)||s===e?C(e[t])?r:e[t]:s},z=e=>typeof e=="boolean",Ye=e=>/^\w*$/.test(e),br=e=>Fe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),S=(e,t,r)=>{let s=-1;const a=Ye(t)?[t]:br(t),n=a.length,o=n-1;for(;++s<n;){const y=a[s];let h=r;if(s!==o){const E=e[y];h=R(E)||Array.isArray(E)?E:isNaN(+a[s+1])?{}:[]}if(y==="__proto__")return;e[y]=h,e=e[y]}return e};const pe={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},G={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},se={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Fr=A.createContext(null),Ae=()=>A.useContext(Fr),Qr=e=>{const{children:t,...r}=e;return A.createElement(Fr.Provider,{value:r},t)};var Ar=(e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const n in e)Object.defineProperty(a,n,{get:()=>{const o=n;return t._proxyFormState[o]!==G.all&&(t._proxyFormState[o]=!s||G.all),r&&(r[o]=!0),e[o]}});return a},B=e=>R(e)&&!Object.keys(e).length,xr=(e,t,r,s)=>{r(e);const{name:a,...n}=e;return B(n)||Object.keys(n).length>=Object.keys(t).length||Object.keys(n).find(o=>t[o]===(!s||G.all))},$=e=>Array.isArray(e)?e:[e],Vr=(e,t,r)=>!e||!t||e===t||$(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s)));function Ee(e){const t=A.useRef(e);t.current=e,A.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function Xr(e){const t=Ae(),{control:r=t.control,disabled:s,name:a,exact:n}=e||{},[o,y]=A.useState(r._formState),h=A.useRef(!0),E=A.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),F=A.useRef(a);return F.current=a,Ee({disabled:s,next:b=>h.current&&Vr(F.current,b.name,n)&&xr(b,E.current,r._updateFormState)&&y({...r._formState,...b}),subject:r._subjects.state}),A.useEffect(()=>(h.current=!0,E.current.isValid&&r._updateValid(!0),()=>{h.current=!1}),[r]),Ar(o,r,E.current,!1)}var re=e=>typeof e=="string",pr=(e,t,r,s,a)=>re(e)?(s&&t.watch.add(e),c(r,e,a)):Array.isArray(e)?e.map(n=>(s&&t.watch.add(n),c(r,n))):(s&&(t.watchAll=!0),r);function Zr(e){const t=Ae(),{control:r=t.control,name:s,defaultValue:a,disabled:n,exact:o}=e||{},y=A.useRef(s);y.current=s,Ee({disabled:n,subject:r._subjects.values,next:F=>{Vr(y.current,F.name,o)&&E(L(pr(y.current,r._names,F.values||r._formValues,!1,a)))}});const[h,E]=A.useState(r._getWatch(s,a));return A.useEffect(()=>r._removeUnmounted()),h}function et(e){const t=Ae(),{name:r,disabled:s,control:a=t.control,shouldUnregister:n}=e,o=hr(a._names.array,r),y=Zr({control:a,name:r,defaultValue:c(a._formValues,r,c(a._defaultValues,r,e.defaultValue)),exact:!0}),h=Xr({control:a,name:r,exact:!0}),E=A.useRef(a.register(r,{...e.rules,value:y,...z(e.disabled)?{disabled:e.disabled}:{}}));return A.useEffect(()=>{const F=a._options.shouldUnregister||n,b=(k,q)=>{const O=c(a._fields,k);O&&O._f&&(O._f.mount=q)};if(b(r,!0),F){const k=L(c(a._options.defaultValues,r));S(a._defaultValues,r,k),C(c(a._formValues,r))&&S(a._formValues,r,k)}return()=>{(o?F&&!a._state.action:F)?a.unregister(r):b(r,!1)}},[r,a,o,n]),A.useEffect(()=>{c(a._fields,r)&&a._updateDisabledField({disabled:s,fields:a._fields,name:r,value:c(a._fields,r)._f.value})},[s,r,a]),{field:{name:r,value:y,...z(s)||h.disabled?{disabled:h.disabled||s}:{},onChange:A.useCallback(F=>E.current.onChange({target:{value:vr(F),name:r},type:pe.CHANGE}),[r]),onBlur:A.useCallback(()=>E.current.onBlur({target:{value:c(a._formValues,r),name:r},type:pe.BLUR}),[r,a]),ref:A.useCallback(F=>{const b=c(a._fields,r);b&&F&&(b._f.ref={focus:()=>F.focus(),select:()=>F.select(),setCustomValidity:k=>F.setCustomValidity(k),reportValidity:()=>F.reportValidity()})},[a._fields,r])},formState:h,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!c(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!c(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!c(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!c(h.validatingFields,r)},error:{enumerable:!0,get:()=>c(h.errors,r)}})}}const rt=e=>e.render(et(e));var wr=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},ae=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},Oe=(e,t,r={})=>r.shouldFocus||C(r.shouldFocus)?r.focusName||`${e}.${C(r.focusIndex)?t:r.focusIndex}.`:"",ve=e=>({isOnSubmit:!e||e===G.onSubmit,isOnBlur:e===G.onBlur,isOnChange:e===G.onChange,isOnAll:e===G.all,isOnTouch:e===G.onTouched}),He=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const ce=(e,t,r,s)=>{for(const a of r||Object.keys(e)){const n=c(e,a);if(n){const{_f:o,...y}=n;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(ce(y,t))break}else if(R(y)&&ce(y,t))break}}};var Sr=(e,t,r)=>{const s=$(c(e,r));return S(s,"root",t[r]),S(e,r,s),e},Je=e=>e.type==="file",ie=e=>typeof e=="function",we=e=>{if(!Ge)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Ve=e=>re(e),Qe=e=>e.type==="radio",Se=e=>e instanceof RegExp;const lr={value:!1,isValid:!1},or={value:!0,isValid:!0};var Dr=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!C(e[0].attributes.value)?C(e[0].value)||e[0].value===""?or:{value:e[0].value,isValid:!0}:or:lr}return lr};const cr={isValid:!1,value:null};var Er=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,cr):cr;function dr(e,t,r="validate"){if(Ve(e)||Array.isArray(e)&&e.every(Ve)||z(e)&&!e)return{type:r,message:Ve(e)?e:"",ref:t}}var oe=e=>R(e)&&!Se(e)?e:{value:e,message:""},Ke=async(e,t,r,s,a)=>{const{ref:n,refs:o,required:y,maxLength:h,minLength:E,min:F,max:b,pattern:k,validate:q,name:O,valueAsNumber:de,mount:J,disabled:ee}=e._f,w=c(t,O);if(!J||ee)return{};const Q=o?o[0]:n,X=p=>{s&&Q.reportValidity&&(Q.setCustomValidity(z(p)?"":p||""),Q.reportValidity())},m={},_=Qe(n),V=be(n),N=_||V,H=(de||Je(n))&&C(n.value)&&C(w)||we(n)&&n.value===""||w===""||Array.isArray(w)&&!w.length,j=wr.bind(null,O,r,m),xe=(p,D,U,P=se.maxLength,Z=se.minLength)=>{const K=p?D:U;m[O]={type:p?P:Z,message:K,ref:n,...j(p?P:Z,K)}};if(a?!Array.isArray(w)||!w.length:y&&(!N&&(H||W(w))||z(w)&&!w||V&&!Dr(o).isValid||_&&!Er(o).isValid)){const{value:p,message:D}=Ve(y)?{value:!!y,message:y}:oe(y);if(p&&(m[O]={type:se.required,message:D,ref:Q,...j(se.required,D)},!r))return X(D),m}if(!H&&(!W(F)||!W(b))){let p,D;const U=oe(b),P=oe(F);if(!W(w)&&!isNaN(w)){const Z=n.valueAsNumber||w&&+w;W(U.value)||(p=Z>U.value),W(P.value)||(D=Z<P.value)}else{const Z=n.valueAsDate||new Date(w),K=ge=>new Date(new Date().toDateString()+" "+ge),fe=n.type=="time",ye=n.type=="week";re(U.value)&&w&&(p=fe?K(w)>K(U.value):ye?w>U.value:Z>new Date(U.value)),re(P.value)&&w&&(D=fe?K(w)<K(P.value):ye?w<P.value:Z<new Date(P.value))}if((p||D)&&(xe(!!p,U.message,P.message,se.max,se.min),!r))return X(m[O].message),m}if((h||E)&&!H&&(re(w)||a&&Array.isArray(w))){const p=oe(h),D=oe(E),U=!W(p.value)&&w.length>+p.value,P=!W(D.value)&&w.length<+D.value;if((U||P)&&(xe(U,p.message,D.message),!r))return X(m[O].message),m}if(k&&!H&&re(w)){const{value:p,message:D}=oe(k);if(Se(p)&&!w.match(p)&&(m[O]={type:se.pattern,message:D,ref:n,...j(se.pattern,D)},!r))return X(D),m}if(q){if(ie(q)){const p=await q(w,t),D=dr(p,Q);if(D&&(m[O]={...D,...j(se.validate,D.message)},!r))return X(D.message),m}else if(R(q)){let p={};for(const D in q){if(!B(p)&&!r)break;const U=dr(await q[D](w,t),Q,D);U&&(p={...U,...j(D,U.message)},X(U.message),r&&(m[O]=p))}if(!B(p)&&(m[O]={ref:Q,...p},!r))return m}}return X(!0),m},Ue=(e,t)=>[...e,...$(t)],Le=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Me(e,t,r){return[...e.slice(0,t),...$(r),...e.slice(t)]}var Te=(e,t,r)=>Array.isArray(e)?(C(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],Pe=(e,t)=>[...$(t),...$(e)];function tt(e,t){let r=0;const s=[...e];for(const a of t)s.splice(a-r,1),r++;return Fe(s).length?s:[]}var je=(e,t)=>C(t)?[]:tt(e,$(t).sort((r,s)=>r-s)),Be=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]};function st(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=C(e)?s++:e[t[s++]];return e}function it(e){for(const t in e)if(e.hasOwnProperty(t)&&!C(e[t]))return!1;return!0}function I(e,t){const r=Array.isArray(t)?t:Ye(t)?[t]:br(t),s=r.length===1?e:st(e,r),a=r.length-1,n=r[a];return s&&delete s[n],a!==0&&(R(s)&&B(s)||Array.isArray(s)&&it(s))&&I(e,r.slice(0,-1)),e}var fr=(e,t,r)=>(e[t]=r,e);function Dt(e){const t=Ae(),{control:r=t.control,name:s,keyName:a="id",shouldUnregister:n}=e,[o,y]=A.useState(r._getFieldArray(s)),h=A.useRef(r._getFieldArray(s).map(ae)),E=A.useRef(o),F=A.useRef(s),b=A.useRef(!1);F.current=s,E.current=o,r._names.array.add(s),e.rules&&r.register(s,e.rules),Ee({next:({values:m,name:_})=>{if(_===F.current||!_){const V=c(m,F.current);Array.isArray(V)&&(y(V),h.current=V.map(ae))}},subject:r._subjects.array});const k=A.useCallback(m=>{b.current=!0,r._updateFieldArray(s,m)},[r,s]),q=(m,_)=>{const V=$(L(m)),N=Ue(r._getFieldArray(s),V);r._names.focus=Oe(s,N.length-1,_),h.current=Ue(h.current,V.map(ae)),k(N),y(N),r._updateFieldArray(s,N,Ue,{argA:Le(m)})},O=(m,_)=>{const V=$(L(m)),N=Pe(r._getFieldArray(s),V);r._names.focus=Oe(s,0,_),h.current=Pe(h.current,V.map(ae)),k(N),y(N),r._updateFieldArray(s,N,Pe,{argA:Le(m)})},de=m=>{const _=je(r._getFieldArray(s),m);h.current=je(h.current,m),k(_),y(_),r._updateFieldArray(s,_,je,{argA:m})},J=(m,_,V)=>{const N=$(L(_)),H=Me(r._getFieldArray(s),m,N);r._names.focus=Oe(s,m,V),h.current=Me(h.current,m,N.map(ae)),k(H),y(H),r._updateFieldArray(s,H,Me,{argA:m,argB:Le(_)})},ee=(m,_)=>{const V=r._getFieldArray(s);Be(V,m,_),Be(h.current,m,_),k(V),y(V),r._updateFieldArray(s,V,Be,{argA:m,argB:_},!1)},w=(m,_)=>{const V=r._getFieldArray(s);Te(V,m,_),Te(h.current,m,_),k(V),y(V),r._updateFieldArray(s,V,Te,{argA:m,argB:_},!1)},Q=(m,_)=>{const V=L(_),N=fr(r._getFieldArray(s),m,V);h.current=[...N].map((H,j)=>!H||j===m?ae():h.current[j]),k(N),y([...N]),r._updateFieldArray(s,N,fr,{argA:m,argB:V},!0,!1)},X=m=>{const _=$(L(m));h.current=_.map(ae),k([..._]),y([..._]),r._updateFieldArray(s,[..._],V=>V,{},!0,!1)};return A.useEffect(()=>{if(r._state.action=!1,He(s,r._names)&&r._subjects.state.next({...r._formState}),b.current&&(!ve(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([s]).then(m=>{const _=c(m.errors,s),V=c(r._formState.errors,s);(V?!_&&V.type||_&&(V.type!==_.type||V.message!==_.message):_&&_.type)&&(_?S(r._formState.errors,s,_):I(r._formState.errors,s),r._subjects.state.next({errors:r._formState.errors}))});else{const m=c(r._fields,s);m&&m._f&&!(ve(r._options.reValidateMode).isOnSubmit&&ve(r._options.mode).isOnSubmit)&&Ke(m,r._formValues,r._options.criteriaMode===G.all,r._options.shouldUseNativeValidation,!0).then(_=>!B(_)&&r._subjects.state.next({errors:Sr(r._formState.errors,_,s)}))}r._subjects.values.next({name:s,values:{...r._formValues}}),r._names.focus&&ce(r._fields,(m,_)=>{if(r._names.focus&&_.startsWith(r._names.focus)&&m.focus)return m.focus(),1}),r._names.focus="",r._updateValid(),b.current=!1},[o,s,r]),A.useEffect(()=>(!c(r._formValues,s)&&r._updateFieldArray(s),()=>{(r._options.shouldUnregister||n)&&r.unregister(s)}),[s,r,a,n]),{swap:A.useCallback(ee,[k,s,r]),move:A.useCallback(w,[k,s,r]),prepend:A.useCallback(O,[k,s,r]),append:A.useCallback(q,[k,s,r]),remove:A.useCallback(de,[k,s,r]),insert:A.useCallback(J,[k,s,r]),update:A.useCallback(Q,[k,s,r]),replace:A.useCallback(X,[k,s,r]),fields:A.useMemo(()=>o.map((m,_)=>({...m,[a]:h.current[_]||ae()})),[o,a])}}var We=()=>{let e=[];return{get observers(){return e},next:a=>{for(const n of e)n.next&&n.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(n=>n!==a)}}),unsubscribe:()=>{e=[]}}},ze=e=>W(e)||!_r(e);function ne(e,t){if(ze(e)||ze(t))return e===t;if(le(e)&&le(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const a of r){const n=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const o=t[a];if(le(n)&&le(o)||R(n)&&R(o)||Array.isArray(n)&&Array.isArray(o)?!ne(n,o):n!==o)return!1}}return!0}var kr=e=>e.type==="select-multiple",at=e=>Qe(e)||be(e),$e=e=>we(e)&&e.isConnected,Cr=e=>{for(const t in e)if(ie(e[t]))return!0;return!1};function De(e,t={}){const r=Array.isArray(e);if(R(e)||r)for(const s in e)Array.isArray(e[s])||R(e[s])&&!Cr(e[s])?(t[s]=Array.isArray(e[s])?[]:{},De(e[s],t[s])):W(e[s])||(t[s]=!0);return t}function Nr(e,t,r){const s=Array.isArray(e);if(R(e)||s)for(const a in e)Array.isArray(e[a])||R(e[a])&&!Cr(e[a])?C(t)||ze(r[a])?r[a]=Array.isArray(e[a])?De(e[a],[]):{...De(e[a])}:Nr(e[a],W(t)?{}:t[a],r[a]):r[a]=!ne(e[a],t[a]);return r}var me=(e,t)=>Nr(e,t,De(t)),Rr=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>C(e)?e:t?e===""?NaN:e&&+e:r&&re(e)?new Date(e):s?s(e):e;function qe(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return Je(t)?t.files:Qe(t)?Er(e.refs).value:kr(t)?[...t.selectedOptions].map(({value:r})=>r):be(t)?Dr(e.refs).value:Rr(C(t.value)?e.ref.value:t.value,e)}var nt=(e,t,r,s)=>{const a={};for(const n of e){const o=c(t,n);o&&S(a,n,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}},_e=e=>C(e)?e:Se(e)?e.source:R(e)?Se(e.value)?e.value.source:e.value:e;const yr="AsyncFunction";var ut=e=>(!e||!e.validate)&&!!(ie(e.validate)&&e.validate.constructor.name===yr||R(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===yr)),lt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function gr(e,t,r){const s=c(e,r);if(s||Ye(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const n=a.join("."),o=c(t,n),y=c(e,n);if(o&&!Array.isArray(o)&&r!==n)return{name:r};if(y&&y.type)return{name:n,error:y};a.pop()}return{name:r}}var ot=(e,t,r,s,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:(r?s.isOnChange:a.isOnChange)?e:!0,ct=(e,t)=>!Fe(c(e,t)).length&&I(e,t);const dt={mode:G.onSubmit,reValidateMode:G.onChange,shouldFocusError:!0};function ft(e={}){let t={...dt,...e},r={submitCount:0,isDirty:!1,isLoading:ie(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=R(t.defaultValues)||R(t.values)?L(t.defaultValues||t.values)||{}:{},n=t.shouldUnregister?{}:L(a),o={action:!1,mount:!1,watch:!1},y={mount:new Set,unMount:new Set,array:new Set,watch:new Set},h,E=0;const F={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},b={values:We(),array:We(),state:We()},k=ve(t.mode),q=ve(t.reValidateMode),O=t.criteriaMode===G.all,de=i=>u=>{clearTimeout(E),E=setTimeout(i,u)},J=async i=>{if(!e.disabled&&(F.isValid||i)){const u=t.resolver?B((await N()).errors):await j(s,!0);u!==r.isValid&&b.state.next({isValid:u})}},ee=(i,u)=>{!e.disabled&&(F.isValidating||F.validatingFields)&&((i||Array.from(y.mount)).forEach(l=>{l&&(u?S(r.validatingFields,l,u):I(r.validatingFields,l))}),b.state.next({validatingFields:r.validatingFields,isValidating:!B(r.validatingFields)}))},w=(i,u=[],l,g,f=!0,d=!0)=>{if(g&&l&&!e.disabled){if(o.action=!0,d&&Array.isArray(c(s,i))){const v=l(c(s,i),g.argA,g.argB);f&&S(s,i,v)}if(d&&Array.isArray(c(r.errors,i))){const v=l(c(r.errors,i),g.argA,g.argB);f&&S(r.errors,i,v),ct(r.errors,i)}if(F.touchedFields&&d&&Array.isArray(c(r.touchedFields,i))){const v=l(c(r.touchedFields,i),g.argA,g.argB);f&&S(r.touchedFields,i,v)}F.dirtyFields&&(r.dirtyFields=me(a,n)),b.state.next({name:i,isDirty:p(i,u),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else S(n,i,u)},Q=(i,u)=>{S(r.errors,i,u),b.state.next({errors:r.errors})},X=i=>{r.errors=i,b.state.next({errors:r.errors,isValid:!1})},m=(i,u,l,g)=>{const f=c(s,i);if(f){const d=c(n,i,C(l)?c(a,i):l);C(d)||g&&g.defaultChecked||u?S(n,i,u?d:qe(f._f)):P(i,d),o.mount&&J()}},_=(i,u,l,g,f)=>{let d=!1,v=!1;const x={name:i};if(!e.disabled){const M=!!(c(s,i)&&c(s,i)._f&&c(s,i)._f.disabled);if(!l||g){F.isDirty&&(v=r.isDirty,r.isDirty=x.isDirty=p(),d=v!==x.isDirty);const T=M||ne(c(a,i),u);v=!!(!M&&c(r.dirtyFields,i)),T||M?I(r.dirtyFields,i):S(r.dirtyFields,i,!0),x.dirtyFields=r.dirtyFields,d=d||F.dirtyFields&&v!==!T}if(l){const T=c(r.touchedFields,i);T||(S(r.touchedFields,i,l),x.touchedFields=r.touchedFields,d=d||F.touchedFields&&T!==l)}d&&f&&b.state.next(x)}return d?x:{}},V=(i,u,l,g)=>{const f=c(r.errors,i),d=F.isValid&&z(u)&&r.isValid!==u;if(e.delayError&&l?(h=de(()=>Q(i,l)),h(e.delayError)):(clearTimeout(E),h=null,l?S(r.errors,i,l):I(r.errors,i)),(l?!ne(f,l):f)||!B(g)||d){const v={...g,...d&&z(u)?{isValid:u}:{},errors:r.errors,name:i};r={...r,...v},b.state.next(v)}},N=async i=>{ee(i,!0);const u=await t.resolver(n,t.context,nt(i||y.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return ee(i),u},H=async i=>{const{errors:u}=await N(i);if(i)for(const l of i){const g=c(u,l);g?S(r.errors,l,g):I(r.errors,l)}else r.errors=u;return u},j=async(i,u,l={valid:!0})=>{for(const g in i){const f=i[g];if(f){const{_f:d,...v}=f;if(d){const x=y.array.has(d.name),M=f._f&&ut(f._f);M&&F.validatingFields&&ee([g],!0);const T=await Ke(f,n,O,t.shouldUseNativeValidation&&!u,x);if(M&&F.validatingFields&&ee([g]),T[d.name]&&(l.valid=!1,u))break;!u&&(c(T,d.name)?x?Sr(r.errors,T,d.name):S(r.errors,d.name,T[d.name]):I(r.errors,d.name))}!B(v)&&await j(v,u,l)}}return l.valid},xe=()=>{for(const i of y.unMount){const u=c(s,i);u&&(u._f.refs?u._f.refs.every(l=>!$e(l)):!$e(u._f.ref))&&Ce(i)}y.unMount=new Set},p=(i,u)=>!e.disabled&&(i&&u&&S(n,i,u),!ne(Xe(),a)),D=(i,u,l)=>pr(i,y,{...o.mount?n:C(u)?a:re(i)?{[i]:u}:u},l,u),U=i=>Fe(c(o.mount?n:a,i,e.shouldUnregister?c(a,i,[]):[])),P=(i,u,l={})=>{const g=c(s,i);let f=u;if(g){const d=g._f;d&&(!d.disabled&&S(n,i,Rr(u,d)),f=we(d.ref)&&W(u)?"":u,kr(d.ref)?[...d.ref.options].forEach(v=>v.selected=f.includes(v.value)):d.refs?be(d.ref)?d.refs.length>1?d.refs.forEach(v=>(!v.defaultChecked||!v.disabled)&&(v.checked=Array.isArray(f)?!!f.find(x=>x===v.value):f===v.value)):d.refs[0]&&(d.refs[0].checked=!!f):d.refs.forEach(v=>v.checked=v.value===f):Je(d.ref)?d.ref.value="":(d.ref.value=f,d.ref.type||b.values.next({name:i,values:{...n}})))}(l.shouldDirty||l.shouldTouch)&&_(i,f,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ge(i)},Z=(i,u,l)=>{for(const g in u){const f=u[g],d=`${i}.${g}`,v=c(s,d);(y.array.has(i)||R(f)||v&&!v._f)&&!le(f)?Z(d,f,l):P(d,f,l)}},K=(i,u,l={})=>{const g=c(s,i),f=y.array.has(i),d=L(u);S(n,i,d),f?(b.array.next({name:i,values:{...n}}),(F.isDirty||F.dirtyFields)&&l.shouldDirty&&b.state.next({name:i,dirtyFields:me(a,n),isDirty:p(i,d)})):g&&!g._f&&!W(d)?Z(i,d,l):P(i,d,l),He(i,y)&&b.state.next({...r}),b.values.next({name:o.mount?i:void 0,values:{...n}})},fe=async i=>{o.mount=!0;const u=i.target;let l=u.name,g=!0;const f=c(s,l),d=()=>u.type?qe(f._f):vr(i),v=x=>{g=Number.isNaN(x)||le(x)&&isNaN(x.getTime())||ne(x,c(n,l,x))};if(f){let x,M;const T=d(),ue=i.type===pe.BLUR||i.type===pe.FOCUS_OUT,$r=!lt(f._f)&&!t.resolver&&!c(r.errors,l)&&!f._f.deps||ot(ue,c(r.touchedFields,l),r.isSubmitted,q,k),Re=He(l,y,ue);S(n,l,T),ue?(f._f.onBlur&&f._f.onBlur(i),h&&h(0)):f._f.onChange&&f._f.onChange(i);const Ie=_(l,T,ue,!1),qr=!B(Ie)||Re;if(!ue&&b.values.next({name:l,type:i.type,values:{...n}}),$r)return F.isValid&&(e.mode==="onBlur"?ue&&J():J()),qr&&b.state.next({name:l,...Re?{}:Ie});if(!ue&&Re&&b.state.next({...r}),t.resolver){const{errors:nr}=await N([l]);if(v(T),g){const Hr=gr(r.errors,s,l),ur=gr(nr,s,Hr.name||l);x=ur.error,l=ur.name,M=B(nr)}}else ee([l],!0),x=(await Ke(f,n,O,t.shouldUseNativeValidation))[l],ee([l]),v(T),g&&(x?M=!1:F.isValid&&(M=await j(s,!0)));g&&(f._f.deps&&ge(f._f.deps),V(l,M,x,Ie))}},ye=(i,u)=>{if(c(r.errors,u)&&i.focus)return i.focus(),1},ge=async(i,u={})=>{let l,g;const f=$(i);if(t.resolver){const d=await H(C(i)?i:f);l=B(d),g=i?!f.some(v=>c(d,v)):l}else i?(g=(await Promise.all(f.map(async d=>{const v=c(s,d);return await j(v&&v._f?{[d]:v}:v)}))).every(Boolean),!(!g&&!r.isValid)&&J()):g=l=await j(s);return b.state.next({...!re(i)||F.isValid&&l!==r.isValid?{}:{name:i},...t.resolver||!i?{isValid:l}:{},errors:r.errors}),u.shouldFocus&&!g&&ce(s,ye,i?f:y.mount),g},Xe=i=>{const u={...o.mount?n:a};return C(i)?u:re(i)?c(u,i):i.map(l=>c(u,l))},Ze=(i,u)=>({invalid:!!c((u||r).errors,i),isDirty:!!c((u||r).dirtyFields,i),error:c((u||r).errors,i),isValidating:!!c(r.validatingFields,i),isTouched:!!c((u||r).touchedFields,i)}),Pr=i=>{i&&$(i).forEach(u=>I(r.errors,u)),b.state.next({errors:i?r.errors:{}})},er=(i,u,l)=>{const g=(c(s,i,{_f:{}})._f||{}).ref,f=c(r.errors,i)||{},{ref:d,message:v,type:x,...M}=f;S(r.errors,i,{...M,...u,ref:g}),b.state.next({name:i,errors:r.errors,isValid:!1}),l&&l.shouldFocus&&g&&g.focus&&g.focus()},jr=(i,u)=>ie(i)?b.values.subscribe({next:l=>i(D(void 0,u),l)}):D(i,u,!0),Ce=(i,u={})=>{for(const l of i?$(i):y.mount)y.mount.delete(l),y.array.delete(l),u.keepValue||(I(s,l),I(n,l)),!u.keepError&&I(r.errors,l),!u.keepDirty&&I(r.dirtyFields,l),!u.keepTouched&&I(r.touchedFields,l),!u.keepIsValidating&&I(r.validatingFields,l),!t.shouldUnregister&&!u.keepDefaultValue&&I(a,l);b.values.next({values:{...n}}),b.state.next({...r,...u.keepDirty?{isDirty:p()}:{}}),!u.keepIsValid&&J()},rr=({disabled:i,name:u,field:l,fields:g,value:f})=>{if(z(i)&&o.mount||i){const d=i?void 0:C(f)?qe(l?l._f:c(g,u)._f):f;S(n,u,d),_(u,d,!1,!1,!0)}},Ne=(i,u={})=>{let l=c(s,i);const g=z(u.disabled)||z(e.disabled);return S(s,i,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:i}},name:i,mount:!0,...u}}),y.mount.add(i),l?rr({field:l,disabled:z(u.disabled)?u.disabled:e.disabled,name:i,value:u.value}):m(i,!0,u.value),{...g?{disabled:u.disabled||e.disabled}:{},...t.progressive?{required:!!u.required,min:_e(u.min),max:_e(u.max),minLength:_e(u.minLength),maxLength:_e(u.maxLength),pattern:_e(u.pattern)}:{},name:i,onChange:fe,onBlur:fe,ref:f=>{if(f){Ne(i,u),l=c(s,i);const d=C(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,v=at(d),x=l._f.refs||[];if(v?x.find(M=>M===d):d===l._f.ref)return;S(s,i,{_f:{...l._f,...v?{refs:[...x.filter($e),d,...Array.isArray(c(a,i))?[{}]:[]],ref:{type:d.type,name:i}}:{ref:d}}}),m(i,!1,void 0,d)}else l=c(s,i,{}),l._f&&(l._f.mount=!1),(t.shouldUnregister||u.shouldUnregister)&&!(hr(y.array,i)&&o.action)&&y.unMount.add(i)}}},tr=()=>t.shouldFocusError&&ce(s,ye,y.mount),Br=i=>{z(i)&&(b.state.next({disabled:i}),ce(s,(u,l)=>{const g=c(s,l);g&&(u.disabled=g._f.disabled||i,Array.isArray(g._f.refs)&&g._f.refs.forEach(f=>{f.disabled=g._f.disabled||i}))},0,!1))},sr=(i,u)=>async l=>{let g;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=L(n);if(b.state.next({isSubmitting:!0}),t.resolver){const{errors:d,values:v}=await N();r.errors=d,f=v}else await j(s);if(I(r.errors,"root"),B(r.errors)){b.state.next({errors:{}});try{await i(f,l)}catch(d){g=d}}else u&&await u({...r.errors},l),tr(),setTimeout(tr);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:B(r.errors)&&!g,submitCount:r.submitCount+1,errors:r.errors}),g)throw g},Wr=(i,u={})=>{c(s,i)&&(C(u.defaultValue)?K(i,L(c(a,i))):(K(i,u.defaultValue),S(a,i,L(u.defaultValue))),u.keepTouched||I(r.touchedFields,i),u.keepDirty||(I(r.dirtyFields,i),r.isDirty=u.defaultValue?p(i,L(c(a,i))):p()),u.keepError||(I(r.errors,i),F.isValid&&J()),b.state.next({...r}))},ir=(i,u={})=>{const l=i?L(i):a,g=L(l),f=B(i),d=f?a:g;if(u.keepDefaultValues||(a=l),!u.keepValues){if(u.keepDirtyValues){const v=new Set([...y.mount,...Object.keys(me(a,n))]);for(const x of Array.from(v))c(r.dirtyFields,x)?S(d,x,c(n,x)):K(x,c(d,x))}else{if(Ge&&C(i))for(const v of y.mount){const x=c(s,v);if(x&&x._f){const M=Array.isArray(x._f.refs)?x._f.refs[0]:x._f.ref;if(we(M)){const T=M.closest("form");if(T){T.reset();break}}}}s={}}n=e.shouldUnregister?u.keepDefaultValues?L(a):{}:L(d),b.array.next({values:{...d}}),b.values.next({values:{...d}})}y={mount:u.keepDirtyValues?y.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!F.isValid||!!u.keepIsValid||!!u.keepDirtyValues,o.watch=!!e.shouldUnregister,b.state.next({submitCount:u.keepSubmitCount?r.submitCount:0,isDirty:f?!1:u.keepDirty?r.isDirty:!!(u.keepDefaultValues&&!ne(i,a)),isSubmitted:u.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:f?{}:u.keepDirtyValues?u.keepDefaultValues&&n?me(a,n):r.dirtyFields:u.keepDefaultValues&&i?me(a,i):u.keepDirty?r.dirtyFields:{},touchedFields:u.keepTouched?r.touchedFields:{},errors:u.keepErrors?r.errors:{},isSubmitSuccessful:u.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ar=(i,u)=>ir(ie(i)?i(n):i,u);return{control:{register:Ne,unregister:Ce,getFieldState:Ze,handleSubmit:sr,setError:er,_executeSchema:N,_getWatch:D,_getDirty:p,_updateValid:J,_removeUnmounted:xe,_updateFieldArray:w,_updateDisabledField:rr,_getFieldArray:U,_reset:ir,_resetDefaultValues:()=>ie(t.defaultValues)&&t.defaultValues().then(i=>{ar(i,t.resetOptions),b.state.next({isLoading:!1})}),_updateFormState:i=>{r={...r,...i}},_disableForm:Br,_subjects:b,_proxyFormState:F,_setErrors:X,get _fields(){return s},get _formValues(){return n},get _state(){return o},set _state(i){o=i},get _defaultValues(){return a},get _names(){return y},set _names(i){y=i},get _formState(){return r},set _formState(i){r=i},get _options(){return t},set _options(i){t={...t,...i}}},trigger:ge,register:Ne,handleSubmit:sr,watch:jr,setValue:K,getValues:Xe,reset:ar,resetField:Wr,clearErrors:Pr,unregister:Ce,setError:er,setFocus:(i,u={})=>{const l=c(s,i),g=l&&l._f;if(g){const f=g.refs?g.refs[0]:g.ref;f.focus&&(f.focus(),u.shouldSelect&&f.select())}},getFieldState:Ze}}function Et(e={}){const t=A.useRef(),r=A.useRef(),[s,a]=A.useState({isDirty:!1,isValidating:!1,isLoading:ie(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ie(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...ft(e),formState:s});const n=t.current.control;return n._options=e,Ee({subject:n._subjects.state,next:o=>{xr(o,n._proxyFormState,n._updateFormState,!0)&&a({...n._formState})}}),A.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),A.useEffect(()=>{if(n._proxyFormState.isDirty){const o=n._getDirty();o!==s.isDirty&&n._subjects.state.next({isDirty:o})}},[n,s.isDirty]),A.useEffect(()=>{e.values&&!ne(e.values,r.current)?(n._reset(e.values,n._options.resetOptions),r.current=e.values,a(o=>({...o}))):n._resetDefaultValues()},[e.values,n]),A.useEffect(()=>{e.errors&&n._setErrors(e.errors)},[e.errors,n]),A.useEffect(()=>{n._state.mount||(n._updateValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),A.useEffect(()=>{e.shouldUnregister&&n._subjects.values.next({values:n._getWatch()})},[e.shouldUnregister,n]),A.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[s]),t.current.formState=Ar(s,n),t.current}const mr=(e,t,r)=>{if(e&&"reportValidity"in e){const s=c(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},Ir=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?mr(s.ref,r,e):s.refs&&s.refs.forEach(a=>mr(a,r,e))}},yt=(e,t)=>{t.shouldUseNativeValidation&&Ir(e,t);const r={};for(const s in e){const a=c(t.fields,s),n=Object.assign(e[s]||{},{ref:a&&a.ref});if(gt(t.names||Object.keys(e),s)){const o=Object.assign({},c(r,s));S(o,"root",n),S(r,s,o)}else S(r,s,n)}return r},gt=(e,t)=>e.some(r=>r.startsWith(t+"."));var mt=function(e,t){for(var r={};e.length;){var s=e[0],a=s.code,n=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var y=s.unionErrors[0].errors[0];r[o]={message:y.message,type:y.code}}else r[o]={message:n,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(F){return F.errors.forEach(function(b){return e.push(b)})}),t){var h=r[o].types,E=h&&h[s.code];r[o]=wr(o,t,r,a,E?[].concat(E,s.message):s.message)}e.shift()}return r},kt=function(e,t,r){return r===void 0&&(r={}),function(s,a,n){try{return Promise.resolve(function(o,y){try{var h=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(E){return n.shouldUseNativeValidation&&Ir({},n),{errors:{},values:r.raw?s:E}})}catch(E){return y(E)}return h&&h.then?h.then(void 0,y):h}(0,function(o){if(function(y){return Array.isArray(y==null?void 0:y.errors)}(o))return{values:{},errors:yt(mt(o.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw o}))}catch(o){return Promise.reject(o)}}},_t="Label",Or=Y.forwardRef((e,t)=>te.jsx(Kr.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Or.displayName=_t;var Ur=Or;const vt=zr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Lr=Y.forwardRef(({className:e,...t},r)=>te.jsx(Ur,{ref:r,className:he(vt(),e),...t}));Lr.displayName=Ur.displayName;const Ct=Qr,Mr=Y.createContext({}),Nt=({...e})=>te.jsx(Mr.Provider,{value:{name:e.name},children:te.jsx(rt,{...e})}),ke=()=>{const e=Y.useContext(Mr),t=Y.useContext(Tr),{getFieldState:r,formState:s}=Ae(),a=r(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:n}=t;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...a}},Tr=Y.createContext({}),ht=Y.forwardRef(({className:e,...t},r)=>{const s=Y.useId();return te.jsx(Tr.Provider,{value:{id:s},children:te.jsx("div",{ref:r,className:he("space-y-2",e),...t})})});ht.displayName="FormItem";const bt=Y.forwardRef(({className:e,...t},r)=>{const{error:s,formItemId:a}=ke();return te.jsx(Lr,{ref:r,className:he(s&&"text-destructive",e),htmlFor:a,...t})});bt.displayName="FormLabel";const Ft=Y.forwardRef(({...e},t)=>{const{error:r,formItemId:s,formDescriptionId:a,formMessageId:n}=ke();return te.jsx(Gr,{ref:t,id:s,"aria-describedby":r?`${a} ${n}`:`${a}`,"aria-invalid":!!r,...e})});Ft.displayName="FormControl";const At=Y.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:s}=ke();return te.jsx("p",{ref:r,id:s,className:he("text-[0.8rem] text-muted-foreground",e),...t})});At.displayName="FormDescription";const xt=Y.forwardRef(({className:e,children:t,...r},s)=>{const{error:a,formMessageId:n}=ke(),o=a?String(a==null?void 0:a.message):t;return o?te.jsx("p",{ref:s,id:n,className:he("text-[0.8rem] font-medium text-destructive",e),...r,children:o}):null});xt.displayName="FormMessage";export{Ct as F,Nt as a,ht as b,bt as c,Ft as d,xt as e,Dt as f,At as g,kt as t,Et as u};
